{% extends 'admin_dashboard/dashboard.html.twig' %}

{% block title %}Create New Match{% endblock %}

{% block body %}
<main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg">
  <div class="container-fluid py-4">
    <div class="row">
      <div class="col-12 col-lg-8">
        <div class="card mb-4">
          <div class="card-header pb-0">
            <h6>Create New Match</h6>
          </div>
          <div class="card-body">
            {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    {{ form_label(form.teamA, 'Team A', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.teamA, {'attr': {'class': 'form-select'}}) }}
                    {{ form_errors(form.teamA) }}
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    {{ form_label(form.teamB, 'Team B', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.teamB, {'attr': {'class': 'form-select'}}) }}
                    {{ form_errors(form.teamB) }}
                  </div>
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    {{ form_label(form.scoreTeamA, 'Score Team A', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.scoreTeamA, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.scoreTeamA) }}
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    {{ form_label(form.scoreTeamB, 'Score Team B', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.scoreTeamB, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.scoreTeamB) }}
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    {{ form_label(form.status, 'Status', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.status, {'attr': {'class': 'form-select'}}) }}
                    {{ form_errors(form.status) }}
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    {{ form_label(form.matchTime, 'Match Time', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.matchTime, {
                      'attr': {
                        'class': 'form-control',
                        'placeholder': 'Select date/time'
                      }
                    }) }}
                    {{ form_errors(form.matchTime) }}
                  </div>
                </div>
              </div>

              <div class="mb-3">
                {{ form_label(form.locationMatch, 'Location', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.locationMatch, {
                  'attr': {
                    'class': 'form-control',
                    'placeholder': 'Enter location'
                  }
                }) }}
                {{ form_errors(form.locationMatch) }}
              </div>

              {# NEW: Tournament dropdown #}
              <div class="mb-3">
                {{ form_label(form.tournoi, 'Tournament', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.tournoi, {'attr': {'class': 'form-select'}}) }}
                {{ form_errors(form.tournoi) }}
              </div>

              <button class="btn btn-primary" type="submit">Save</button>
              <a class="btn btn-secondary" href="{{ path('app_matches_index') }}">Back to list</a>
            {{ form_end(form) }}
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
